<div class="container py-5">
  <div class="row">
    <div class="col-lg-8 col-12">
      <section id="about">
        <h2 class="title mb-4 logo-text">About Us</h2>
        <p><strong class="logo-text">Welcome to the Opticians Association of Pakistan (OAP)</strong></p>
        <p>The <strong class="logo-text">Opticians Association of Pakistan (OAP)</strong> is the <strong>first
            and only</strong> optician's organization <strong>licensed and recognized</strong> by the
          <strong>Ministry of Commerce, Government of Pakistan</strong>.
        </p>
        <p>Dedicated to advancing the opticianry profession, OAP works to promote excellence through <strong
            class="logo-text">continuous education, training, and professional development</strong> for opticians across
          the
          country.</p>
        <p>As the leading advocate for opticians in Pakistan, OAP represents the profession at <strong
            class="logo-text">all
            platforms</strong>, ensuring that the voices and contributions of opticians are heard and valued.</p>
        <p>Whether through <strong class="logo-text">skill enhancement programs, industry standards, or policy
            advocacy</strong>, we are committed to elevating the opticianry field to new heights.</p>
        <p>Join us in our mission to strengthen the profession, uphold ethical practices, and deliver <strong
            class="logo-text">quality eye care</strong> to the people of Pakistan.</p>
      </section>

      <section>
        <h3 class="title my-4 logo-text" id="objectives">Our Core Objectives</h3>
        <div class="row row-cols-1 row-cols-md-2 g-3">
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-mortarboard-fill text-oap fs-5"></i>
            <div>
              <h6 class="title "><strong>Professional Development & Education</strong></h6>
              <p class="mb-0 logo-text">Provide continuing education, certification support, and training to ensure
                opticians stay current with industry advancements.</p>
            </div>
          </div>
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-megaphone-fill text-oap fs-5"></i>
            <div>
              <h6 class="title"> <strong>Advocacy & Regulation</strong></h6>
              <p class="mb-0">Advocate for opticians' interests and promote fair licensing and scope-of-practice
                laws.</p>
            </div>
          </div>
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-eye-fill text-oap fs-5"></i>
            <div>
              <h6 class="title"><strong>Public Awareness & Eye Health</strong></h6>
              <p class="mb-0">Educate the public on eye care and support initiatives for disease prevention and
                access to services.</p>
            </div>
          </div>
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-shield-fill-check text-oap fs-5"></i>
            <div>
              <h6 class="title"><strong>Ethical & Quality Standards</strong></h6>
              <p class="mb-0">Enforce a code of ethics and ensure high-quality dispensing of eyewear and contact
                lenses.</p>
            </div>
          </div>
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-people-fill text-oap fs-5"></i>
            <div>
              <h6 class="title"><strong>Industry Collaboration & Networking</strong></h6>
              <p class="mb-0">Build partnerships and organize events to foster knowledge sharing and innovation.
              </p>
            </div>
          </div>
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-person-check-fill text-oap fs-5"></i>
            <div>
              <h6 class="title"><strong>Supporting Members & Workforce</strong></h6>
              <p class="mb-0">Offer mentorship, resources, and career development while attracting new talent to
                the profession.</p>
            </div>
          </div>
          <div class="d-flex align-items-start gap-2">
            <i class="bi bi-lightbulb-fill text-oap fs-5"></i>
            <div>
              <h6 class="title"><strong>Research & Innovation</strong></h6>
              <p class="mb-0">Promote advancements in optical technology and support vision care research.</p>
            </div>
          </div>
        </div>
      </section>

      <h3 class="title mb-4 mt-5 logo-text" id="leadership">Voices of Leadership</h3>
      <div class="row row-cols-1 row-cols-md-3 g-3">
        <!-- Founder 1 -->
        <div class="col text-center">
          <div class="founder-img-wrapper mb-2">
            <img ngSrc="assets/FounderImages/Founder1.avif" width="393" height="635" alt="Khalid Sohail Gulzari" />
          </div>
          <p class="mb-1 fw-semibold">Khalid Sohail Gulzari</p>
          <p class="mb-1 text-muted">Chairman</p>
          <p class="fst-italic">
            “It is an honor to lead this esteemed body. We take pride in being a global
            representative for opticians.”
          </p>
        </div>

        <!-- Founder 3 -->
        <div class="col text-center">
          <div class="founder-img-wrapper mb-2">
            <img ngSrc="assets/FounderImages/Founder3.avif" width="408" height="310" alt="Muhammad Safdar"
              loading="lazy" />
          </div>
          <p class="mb-1 fw-semibold">Muhammad Safdar</p>
          <p class="mb-1 text-muted">Senior Vice Chairman</p>
          <p class="fst-italic">
            “Our commitment to independent selection empowers our community. We champion
            excellence in eye care.”
          </p>
        </div>

        <!-- Founder 2 -->
        <div class="col text-center">
          <div class="founder-img-wrapper mb-2">
            <img ngSrc="assets/FounderImages/Founder2.avif" width="408" height="612" alt="Ali Mudassir"
              loading="lazy" />
          </div>
          <p class="mb-1 fw-semibold">Ali Mudassir</p>
          <p class="mb-1 text-muted">Vice Chairman</p>
          <p class="fst-italic">
            “We continue organizational growth and collaboration to shape a brighter future
            for our community.”
          </p>
        </div>
      </div>

      <section class="mt-5" id="expo2024">
        <h3 class="title mb-4 logo-text">2024 Expo Highlights</h3>
        <div class="row g-3">
          <div class="col-12 col-md-4">
            <div class="expo-highlight">
              <img ngSrc="assets/Carousal/Gallery/Image4.avif" width="1500" height="1000" alt="Expo 2024 Image 1"
                loading="lazy" />
            </div>
          </div>

          <div class="col-12 col-md-4">
            <div class="expo-highlight">
              <img ngSrc="assets/Carousal/Gallery/Image2.avif" width="1500" height="1000" alt="Expo 2024 Image 2"
                loading="lazy" />
            </div>
          </div>

          <div class="col-12 col-md-4">
            <div class="expo-highlight">
              <img ngSrc="assets/Carousal/Gallery/Image3.avif" width="1500" height="1000" alt="Expo 2024 Image 3"
                loading="lazy" />
            </div>
          </div>
        </div>


        <div class="text-center mt-4">
          <a [routerLink]="['/gallery']" class="btn btn-outline-oap">Show More</a>
        </div>
      </section>

      <section class="mt-5" id="resources">
        <h3 class="title mb-4 logo-text">Resources Library</h3>
        <ng-container *ngIf="resources$ | async as resources; else noResources">
          <div class="row row-cols-1 row-cols-md-2 g-3">
            <div class="col" *ngFor="let res of resources; trackBy: trackByResourceId">
              <div class="card h-100">
                <div class="card-body d-flex gap-3">
                  <div class="display-6 d-flex align-items-start">
                    <i class="bi" [ngClass]="fileIcon(res.mimeType)"></i>
                  </div>
                  <div class="flex-grow-1">
                    <div class="d-flex justify-content-between align-items-start">
                      <h6 class="mb-1 title text-truncate">{{ res.title }}</h6>
                      <span class="badge text-bg-light ms-2">{{ res.fileExt?.toUpperCase() }}</span>
                    </div>
                    <p class="mb-2 small text-muted line-clamp-2">{{ res.description }}</p>
                    <div class="d-flex flex-wrap gap-3 small text-muted mb-3">
                      <span><i class="bi bi-hdd-stack me-1"></i>{{ formatSize(res.sizeBytes) }}</span>
                      <span><i class="bi bi-clock-history me-1"></i>{{ formatDate(res.updatedAt) }}</span>
                    </div>
                    <div class="event-actions d-flex flex-row flex-nowrap gap-2">
                      <a class="btn btn-outline-oap" [href]="res.viewUrl || res.url" target="_blank" rel="noopener">
                        <i class="bi bi-eye me-1"></i> View
                      </a>
                      <a class="btn btn-oap" [href]="res.url" [attr.download]="res.downloadName || res.title">
                        <i class="bi bi-download me-1"></i> Download
                      </a>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-template #noResources>
          <div class="card p-4 text-center">
            <h6 class="mb-1 logo-text">No resources yet</h6>
            <p class="mb-0">Check back soon.</p>
          </div>
        </ng-template>
      </section>

    </div>

    <aside class="col-lg-4 col-12 mt-5 mt-lg-0">
      <div class="sidebar-oap">
        <!-- Latest Update -->
        <div class="latest-update text-center">
          <h5 class="sidebar-title">Latest Update</h5>
          <ng-container *ngIf="featuredLatestEvent$ | async as latest; else noEventTemplate">
            <div class="latest-update-card position-relative">
              <!-- Badge -->
              <div class="badge-container">
                <span class="badge rounded-pill px-3 py-2" [ngClass]="latest?.paid ? 'badge-paid' : 'badge-free'">
                  {{ latest?.paid ? 'Paid' : 'Free' }}
                </span>
              </div>

              <!-- Title -->
              <h4 class="mb-2 fw-semibold text-start title-with-badge">
                {{ latest?.title || 'Upcoming Event' }}
              </h4>

              <!-- Date/Time -->
              <div class="d-flex small mb-2">
                <i class="bi bi-calendar-event me-2"></i>
                <div>
                  <div>{{ getDateRange(latest?.eventDateFrom ?? '', latest?.eventDateTo ?? '') }}</div>
                  <div *ngIf="latest?.eventTimeFrom || latest?.eventTimeTo">
                    {{ getTimeRange(latest?.eventDateFrom ?? '', latest?.eventDateTo ?? '', latest?.eventTimeFrom ?? '',
                    latest?.eventTimeTo ?? '') }}
                  </div>
                </div>
              </div>

              <!-- Location -->
              <div class="d-flex small mb-2">
                <i class="bi bi-geo-alt-fill me-2"></i>
                <span>{{ latest?.address || '' }}</span>
              </div>

              <!-- Countdown -->
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="d-flex align-items-center">
                  <i class="bi bi-clock me-2"></i>
                  <span>Starts In</span>
                </div>
                <div>{{ (countdown$ | async) || '' }}</div>
              </div>

              <!-- Button -->
              <button class="btn btn-oap w-100" type="button" (click)="openSignupModal(latest)">
                <i class="bi bi-check2-circle me-1"></i> Register Now
              </button>
            </div>
          </ng-container>

          <ng-template #noEventTemplate>
            <div class="latest-update-card position-relative">
              <h4 class="mb-2 fw-semibold text-start">No featured event</h4>
              <p class="mb-2 text-start">Check back soon.</p>
              <div class="placeholder-wave">
                <span class="placeholder col-6"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-8"></span>
              </div>
            </div>
          </ng-template>
        </div>

        <!-- Map -->
        <div class="map-card">
          <iframe class="map-embed" loading="lazy" referrerpolicy="no-referrer-when-downgrade" allowfullscreen
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.682160276789!2d73.00749981521027!3d33.696958847361246!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38df958a0e9c67f1%3A0x605877eec01098be!2sF-10%20Markaz%2C%20Islamabad!5e0!3m2!1sen!2s!4v1711587972611!5m2!1sen!2s"></iframe>
        </div>

        <!-- Upcoming Events -->
        <div>
          <h5 class="sidebar-title mb-3">Upcoming Events</h5>
          <ng-container *ngIf="(upcomingEvents$ | async) as events; else comingSoon">
            <div class="events-stack">
              <div class="event-card" *ngFor="let event of (events | slice:0:3); trackBy: trackByEventId">
                <div class="title-row text-truncate mb-1">{{ event.title }}</div>
                <div class="event-meta mb-2">
                  <i class="bi bi-geo-alt-fill"></i>
                  <span class="address line-clamp-2">{{ event.address }}</span>
                  <i class="bi bi-calendar-event"></i>
                  <div>
                    <div>{{ getDateRange(event?.eventDateFrom ?? '', event?.eventDateTo ?? '') }}</div>
                    <div *ngIf="event?.eventTimeFrom || event?.eventTimeTo" class="fw-medium">
                      {{ getTimeRange(event?.eventDateFrom ?? '', event?.eventDateTo ?? '', event?.eventTimeFrom ?? '',
                      event?.eventTimeTo ?? '') }}
                    </div>
                  </div>
                </div>
                <div class="event-actions">
                  <button class="btn btn-oap d-inline-flex align-items-center justify-content-center"
                    (click)="openSignupModal(event)">
                    <i class="bi bi-check2-circle me-2"></i> Register Now
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-template #comingSoon>
            <div class="event-card text-center coming-soon">
              <h5 class="mb-0 logo-text">Opticians Training</h5>
              <p class="mb-0">Coming soon...</p>
            </div>
          </ng-template>
        </div>

        <!-- Contact -->
        <div class="contact-section">
          <h5 class="sidebar-title mb-3">Contact Us</h5>
          <div class="contact-card">
            <ul class="contact-list">
              <li class="contact-item">
                <i class="bi bi-envelope-fill contact-icon"></i>
                <a href="mailto:Info&#64;opticians.pk" class="contact-link">Info&#64;opticians.pk</a>
              </li>
              <li class="contact-item">
                <i class="bi bi-telephone-fill contact-icon"></i>
                <a href="tel:0516107576" class="contact-link">051-6107576</a>
              </li>
              <li class="contact-item">
                <i class="bi bi-geo-alt-fill contact-icon"></i>
                <a href="https://www.google.com/maps/search/?api=1&query=Office+No.6,+2nd+Floor+Capital+Trade+Centre,+F-10+Markaz,+Islamabad,+Pakistan"
                  target="_blank" rel="noopener" class="contact-link">
                  Office No. 6, 2nd Floor Capital Trade Centre, F-10 Markaz, Islamabad, Pakistan
                </a>
              </li>
            </ul>
          </div>
        </div>

      </div>
    </aside>


  </div>

  <app-signup-modal [event]="selectedEvent" [kinds]="kinds"></app-signup-modal>
</div>